## 아직 왜 그런지 잘 모름

리뷰 반영 후 평화롭게 배포한 직후.

테스트코드 상에선 잘 작동했지만 한 번 더 테스트해보려고 게이트웨이를 통해 만든 api를 테스트하려 했다.

GET 메서드는 잘 호출이 되는데 PUT이 안되네? 두둥

org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported

이게 뭔 소리야 나 분명 PUT으로 요청했는데 GET이 안된다니,,,


이유는 알 수 없고 로컬에서 포스트맨 돌려도 잘 되고, 하다하다 controller 테스트 로직도 짜서 해봤는데 잘 된다.

그러다가 어차피 저 코드는 내부에서 다른 서비스가 호출하는 용도라서 그 서비스에서 호출만 성공하면 되겠지 하고 그 서버 쪽에 연동한 코드 로직을 돌렸더니 바로 되네 ㅎ.ㅎ


이유를 생각해보자 왜 그랬을까

1. 왜인진 모르겠지만 포스트맨에서 요청할 때 자꾸 PUT이 아닌 GET으로 날아간다

2. 나는 모르지만 내부 서비스 요청 중 GET 외의 다른 요청은 리다이렉트가 발생한다(메서드가 막혀있다)


아직도 모르겠다 2번 아닐까? 싶긴 하다.


알게됐다. 포스트맨 진짜 불친절한 것 

혹시나 해서 Advanced REST Client라는 크롬 확장 프로그램을 설치해서 요청을 해보니까 301 http 코드가 떨어졌다.

그걸 보고 설마?! 했더니 https로 해야 하는 걸 http로 요청하고 있었다는 걸 알게 됐다.

이게 근데 화가 나는 점이 회사 문서에는 http로 써있어서 아무 의심 없이 가져다 복붙해서 요청했는데 GET은 또 동작하는게 다른 메서드는 막혀있었다 

아 이딴 걸로 고민을 하다니 으아악

하지만 혼자 이유를 알아냈다. 행복해 뿌뜻해 ㅎ.ㅎ